{"version":3,"sources":["./src/app/pages/calls/calls-routing.module.ts","./src/app/pages/calls/calls.component.ts","./src/app/pages/calls/calls.component.html","./src/app/pages/calls/calls.module.ts"],"names":[],"mappings":"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","file":"pages-calls-calls-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {CallsComponent} from './calls.component';\n\n\nconst routes: Routes = [{\n  path: '',\n  component: CallsComponent,\n  data: {\n    title: 'Calls'\n  }\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CallsRoutingModule { }\n","import {Component, Injector, OnInit} from '@angular/core';\nimport DataSource from 'devextreme/data/data_source';\nimport {BaseComponent} from '../../../@calls/components/base/base.component';\n\n@Component({\n    selector: 'app-calls',\n    templateUrl: './calls.component.html',\n    styleUrls: ['./calls.component.scss']\n})\nexport class CallsComponent extends BaseComponent implements OnInit {\n    dataSource: any;\n    isLoading = false;\n    page = 0;\n    itemsCount = 10;\n    selected: any;\n    rate: any = [];\n\n    constructor(injector: Injector) {\n        super(injector);\n    }\n\n    ngOnInit(): void {\n        this.getCalls();\n    }\n\n    deleteItem(item): void {\n        console.log(item);\n        this.isLoading = true;\n        this.callsService.removeCall(item.id).subscribe((res) => {\n            console.log(res);\n            this.getCalls();\n            this.isLoading = false;\n        }, (err) => {\n            console.log(err);\n            this.isLoading = false;\n            this.utilService.showConnectionErrorToast();\n        });\n    }\n\n\n    getCalls(): void {\n        this.dataSource = new DataSource({\n            key: 'id',\n            load: (loadOptions) => this.callsService.getCalls(this.page, this.itemsCount).toPromise()\n                .then(result => {\n                    return {\n                        data: result.content.data.data,\n                        totalCount: result.content.data.total,\n                        groupCount: result.content.data.per_page\n                    };\n                })\n        });\n    }\n\n    viewDetails(item) {\n        console.log(item.data);\n        this.selected = item.data;\n        this.rate = Array.from({length: +this.selected.rate}, (v, k) => k);\n        document.getElementById('showModal').click();\n    }\n\n    getDate(date): string {\n        const d = new Date(date);\n        return d.toISOString().substring(0, 10);\n    }\n\n    getTime(date): string {\n        const d = new Date(date);\n        const p = d.toISOString().split('T');\n        const three = p[1].substring(0, 5);\n        return three.toString();\n    }\n}\n","<div class=\"row header-row\">\n    <div class=\"col-9 row\"></div>\n    <div class=\"col-3 float-end\">\n        <!--        <dx-button\n                        [routerLink]=\"'/pages/location/add'\"\n                        class=\"add-btn\"\n                        icon=\"add\"\n                        stylingMode=\"text\"\n                        text=\" Add New Location\"\n                        type=\"normal\">\n                </dx-button>-->\n    </div>\n</div>\n<dx-data-grid class=\"datagrid\" [dataSource]=\"dataSource\"\n              [showBorders]=\"true\"\n              [hoverStateEnabled]=\"true\"\n              (onRowClick)=\"viewDetails($event)\"\n              [showRowLines]=\"true\">\n    <dxo-remote-operations\n            [groupPaging]=\"true\">\n    </dxo-remote-operations>\n    <dxo-paging [(pageIndex)]=\"page\" [(pageSize)]=\"itemsCount\"></dxo-paging>\n    <dxo-pager\n            [showPageSizeSelector]=\"true\"\n            [allowedPageSizes]=\"[5, 10, 25, 50, 100]\"\n    ></dxo-pager>\n    <dxo-sorting mode=\"multiple\"></dxo-sorting>\n    <dxo-filter-row></dxo-filter-row>\n    <dxo-header-filter></dxo-header-filter>\n    <dxi-column dataField=\"note\" caption=\"Name\" alignment=\"center\"\n                [allowSorting]=\"true\"></dxi-column>\n    <dxi-column *ngIf=\"authService.currentUser?.type === 'super_admin'\" dataField=\"company.companyName\"\n                caption=\"Company Name\"\n                alignment=\"center\"\n                [allowSorting]=\"true\"></dxi-column>\n    <dxi-column dataField=\"department.label\" caption=\"Department\" alignment=\"center\"\n                [allowSorting]=\"true\"></dxi-column>\n    <dxi-column [width]=\"150\" dataField=\"actions\" caption=\"Actions\" alignment=\"center\" cellTemplate=\"actionTemplate\"\n                [allowSorting]=\"true\"></dxi-column>\n    <div *dxTemplate=\"let r of 'actionTemplate'\">\n        <dx-button class=\"remove-btn\" icon=\"minus\" (onClick)=\"deleteItem(r.data)\">\n        </dx-button>\n    </div>\n</dx-data-grid>\n<app-loader *ngIf=\"isLoading\"></app-loader>\n<button style=\"visibility: hidden\" id=\"showModal\" data-toggle=\"modal\" data-target=\"#default-modal\"></button>\n<div class=\"modal fade\" id=\"default-modal\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h4>Call Details</h4><span>\n            </span>\n            </div>\n            <div class=\"modal-body\">\n                <!--                <h4>Note</h4>\n                                <p>{{selected?.note}}</p>-->\n                <h4>Department</h4>\n                <p>{{selected?.department?.label}}</p>\n                <ng-container *ngIf=\"authService.currentUser?.type === 'super_admin'\">\n                    <h4>Company</h4>\n                    <p>{{selected?.company?.companyName}}</p>\n                </ng-container>\n                <h4>Date / Time</h4>\n                <p>{{getDate(selected?.created_at)}} / {{getTime(selected?.created_at)}}</p>\n                <h4>Selfie</h4>\n                <img style=\"    width: 65%;\n    height: 277px;\n    object-fit: contain;\" [src]=\"selected?.image\"/>\n            </div>\n            <div class=\"modal-footer no-border\">\n                <div class=\"text-right\">\n                    <button class=\"btn btn-primary btn-md\" data-dismiss=\"modal\">OK</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CallsRoutingModule } from './calls-routing.module';\nimport {CallsComponent} from './calls.component';\nimport {SharedModule} from '../../shared/shared.module';\n\n\n@NgModule({\n  declarations: [CallsComponent],\n  imports: [\n    CommonModule,\n    CallsRoutingModule,\n    SharedModule\n  ]\n})\nexport class CallsModule { }\n"],"sourceRoot":"webpack:///"}