{"version":3,"sources":["webpack:///src/app/pages/departments/departments-routing.module.ts","webpack:///src/app/pages/departments/departments.component.html","webpack:///src/app/pages/departments/departments.component.ts","webpack:///src/app/pages/departments/departments.module.ts"],"names":["routes","path","component","data","title","DepartmentsRoutingModule","forChild","imports","exports","DepartmentsComponent","injector","isLoading","add","dep_id","departmentForm","fb","group","label","compose","required","number","getDepartments","item","utilService","confirmationDialog","translateService","instant","result","subscribe","res","departmentService","removeDepartment","id","err","console","log","showConnectionErrorToast","j","setValue","dataSource","content","form","f","authService","currentUser","company_id","addDepartment","resetForm","document","getElementById","click","showAddedSuccessfullyToast","updateDepartment","selector","templateUrl","styleUrls","DepartmentsModule","declarations"],"mappings":"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","file":"pages-departments-departments-module-es5.js","sourcesContent":["import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {DepartmentsComponent} from './departments.component';\r\n\r\n\r\nconst routes: Routes = [{\r\n    path: '',\r\n    component: DepartmentsComponent,\r\n    data: {\r\n        title: 'Department'\r\n    }\r\n}];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class DepartmentsRoutingModule {\r\n}\r\n","<div class=\"row header-row\">\r\n    <div class=\"col-9 row\"></div>\r\n    <div class=\"col-3 float-end\">\r\n        <dx-button *ngIf=\"authService.currentUser.type === 'admin'\"\r\n                   data-toggle=\"modal\" data-target=\"#side-modal-r\"\r\n                   class=\"add-btn\"\r\n                   icon=\"add\"\r\n                   stylingMode=\"text\"\r\n                   text=\" {{'departments.addDepartment' | translate}}\"\r\n                   (onClick)=\"resetForm()\"\r\n                   type=\"normal\">\r\n        </dx-button>\r\n    </div>\r\n</div>\r\n<dx-data-grid class=\"datagrid\" [dataSource]=\"dataSource\"\r\n              [showBorders]=\"true\" [noDataText]=\"'menu.noData' | translate\"\r\n              [showRowLines]=\"true\">\r\n    <dxo-load-panel [text]=\"'menu.loading' | translate\"\r\n            [enabled]=\"true\">\r\n    </dxo-load-panel>\r\n    <dxo-remote-operations\r\n            [groupPaging]=\"true\">\r\n    </dxo-remote-operations>\r\n    <dxo-pager\r\n            [showPageSizeSelector]=\"true\"\r\n            [allowedPageSizes]=\"[5, 10, 25, 50, 100]\"\r\n    ></dxo-pager>\r\n    <dxo-sorting mode=\"multiple\"></dxo-sorting>\r\n    <dxo-filter-row></dxo-filter-row>\r\n    <dxo-header-filter></dxo-header-filter>\r\n    <dxi-column dataField=\"label\" [caption]=\"'departments.label' | translate\" alignment=\"center\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <dxi-column dataField=\"number\" [caption]=\"'departments.number' | translate\" alignment=\"center\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <dxi-column *ngIf=\"authService.currentUser.type === 'super_admin'\" dataField=\"company.companyName\"\r\n                [caption]=\"'departments.companyName' | translate\" alignment=\"center\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <dxi-column [width]=\"100\" dataField=\"actions\" [caption]=\"'departments.action' | translate\" alignment=\"center\" cellTemplate=\"actionTemplate\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <div *dxTemplate=\"let r of 'actionTemplate'\">\r\n        <dx-button class=\"update-btn\" icon=\"edit\" (onClick)=\"updateItem(r.data)\" data-toggle=\"modal\"\r\n                   data-target=\"#side-modal-r\">\r\n        </dx-button>\r\n        <dx-button class=\"remove-btn\" icon=\"trash\" (onClick)=\"deleteItem(r.data)\">\r\n        </dx-button>\r\n    </div>\r\n</dx-data-grid>\r\n\r\n\r\n<div class=\"modal slide-in-right modal-right fade \" id=\"side-modal-r\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"side-modal-wrapper\">\r\n                <div class=\"vertical-align\">\r\n                    <div class=\"table-cell\">\r\n                        <div class=\"pdd-horizon-15\">\r\n                            <h4>{{add ? 'Add' : 'Update'}}Department</h4>\r\n                            <p class=\"mrg-btm-15 font-size-13\">Enter this details to {{add ? 'Add' : 'Update'}}\r\n                                department</p>\r\n                            <form [formGroup]=\"departmentForm\" #f=\"ngForm\"\r\n                                  (ngSubmit)=\"departmentForm.valid && addDepartment(departmentForm.value, f)\">\r\n                                <div class=\"form-group\">\r\n                                    <input formControlName=\"label\" type=\"text\" class=\"form-control\" placeholder=\"Name\">\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <input disabled formControlName=\"number\" type=\"tel\" class=\"form-control\"\r\n                                           placeholder=\"Call Number\">\r\n                                </div>\r\n                                <button type=\"submit\" class=\"btn btn-info btn-sm\">{{add ? 'Add' : 'Update'}}</button>\r\n                                <a id=\"close\" style=\"visibility: hidden\" href=\"\" data-dismiss=\"modal\"\r\n                                   class=\"btn btn-info\">Close!</a>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<app-loader *ngIf=\"isLoading\"></app-loader>\r\n","import {Component, Injector, OnInit} from '@angular/core';\r\nimport DataSource from 'devextreme/data/data_source';\r\nimport {BaseComponent} from '../../../@calls/components/base/base.component';\r\nimport {Validators} from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-departments',\r\n    templateUrl: './departments.component.html',\r\n    styleUrls: ['./departments.component.scss']\r\n})\r\nexport class DepartmentsComponent extends BaseComponent implements OnInit {\r\n    dataSource: any;\r\n    departmentForm: any;\r\n    isLoading = false;\r\n    add = true;\r\n    dep_id = '';\r\n\r\n    constructor(injector: Injector) {\r\n        super(injector);\r\n        this.departmentForm = this.fb.group({\r\n            label: ['', Validators.compose([Validators.required])],\r\n            number: ['+18654128481', Validators.compose([Validators.required])]\r\n        });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.getDepartments();\r\n    }\r\n\r\n    async deleteItem(item) {\r\n        const result = await this.utilService.confirmationDialog(this.translateService.instant('app.warning'),\r\n            this.translateService.instant('app.removeCaution'));\r\n        result.subscribe((res) => {\r\n            if (res) {\r\n                this.isLoading = true;\r\n                this.departmentService.removeDepartment(item.id).subscribe((res) => {\r\n                    this.getDepartments();\r\n                    this.isLoading = false;\r\n                }, (err) => {\r\n                    console.log(err);\r\n                    this.isLoading = false;\r\n                    this.utilService.showConnectionErrorToast();\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    resetForm() {\r\n        const j = {\r\n            label: '',\r\n            number: '+18654128481'\r\n        };\r\n        this.departmentForm.setValue(j);\r\n        this.add = true;\r\n    }\r\n\r\n    getDepartments(): void {\r\n        this.departmentService.getDepartments().subscribe((res) => {\r\n            this.dataSource = new DataSource(res.content.data);\r\n        });\r\n    }\r\n\r\n    updateItem(data): void {\r\n        this.add = false;\r\n        const j = {\r\n            label: data.label,\r\n            number: data.number\r\n        };\r\n        this.dep_id = data.id;\r\n        this.departmentForm.setValue(j);\r\n    }\r\n\r\n    addDepartment(form, f): void {\r\n        this.isLoading = true;\r\n        form['company_id'] = this.authService.currentUser.company_id;\r\n        if (this.add) {\r\n            this.departmentService.addDepartment(form).subscribe((res) => {\r\n                this.isLoading = false;\r\n                f.resetForm();\r\n                this.getDepartments();\r\n                document.getElementById('close').click();\r\n                this.utilService.showAddedSuccessfullyToast();\r\n            }, (err) => {\r\n                this.isLoading = false;\r\n                console.log(err);\r\n                this.utilService.showConnectionErrorToast();\r\n            });\r\n        } else {\r\n            form['id'] = this.dep_id;\r\n            this.departmentService.updateDepartment(form).subscribe((res) => {\r\n                this.isLoading = false;\r\n                f.resetForm();\r\n                this.getDepartments();\r\n                document.getElementById('close').click();\r\n                this.utilService.showAddedSuccessfullyToast();\r\n            }, (err) => {\r\n                this.isLoading = false;\r\n                console.log(err);\r\n                this.utilService.showConnectionErrorToast();\r\n            });\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { DepartmentsRoutingModule } from './departments-routing.module';\r\nimport {DepartmentsComponent} from './departments.component';\r\nimport {SharedModule} from '../../shared/shared.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [DepartmentsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    DepartmentsRoutingModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class DepartmentsModule { }\r\n"]}