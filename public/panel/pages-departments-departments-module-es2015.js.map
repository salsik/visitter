{"version":3,"sources":["./src/app/pages/departments/departments-routing.module.ts","./src/app/pages/departments/departments.component.ts","./src/app/pages/departments/departments.component.html","./src/app/pages/departments/departments.module.ts"],"names":[],"mappings":"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","file":"pages-departments-departments-module-es2015.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {DepartmentsComponent} from './departments.component';\n\n\nconst routes: Routes = [{\n    path: '',\n    component: DepartmentsComponent,\n    data: {\n        title: 'Department'\n    }\n}];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class DepartmentsRoutingModule {\n}\n","import {Component, Injector, OnInit} from '@angular/core';\nimport DataSource from 'devextreme/data/data_source';\nimport {BaseComponent} from '../../../@calls/components/base/base.component';\nimport {Validators} from '@angular/forms';\n\n@Component({\n    selector: 'app-departments',\n    templateUrl: './departments.component.html',\n    styleUrls: ['./departments.component.scss']\n})\nexport class DepartmentsComponent extends BaseComponent implements OnInit {\n    dataSource: any;\n    departmentForm: any;\n    isLoading = false;\n    add = true;\n    dep_id = '';\n\n    constructor(injector: Injector) {\n        super(injector);\n        this.departmentForm = this.fb.group({\n            label: ['', Validators.compose([Validators.required])],\n            number: ['+18654128481', Validators.compose([Validators.required])]\n        });\n    }\n\n    ngOnInit(): void {\n        this.getDepartments();\n    }\n\n    deleteItem(item): void {\n        console.log(item);\n        this.isLoading = true;\n        this.departmentService.removeDepartment(item.id).subscribe((res) => {\n            console.log(res);\n            this.getDepartments();\n            this.isLoading = false;\n        }, (err) => {\n            console.log(err);\n            this.isLoading = false;\n            this.utilService.showConnectionErrorToast();\n        });\n    }\n\n    resetForm() {\n        const j = {\n            label: '',\n            number: '+18654128481'\n        };\n        this.departmentForm.setValue(j);\n        this.add = true;\n    }\n\n    getDepartments(): void {\n        this.departmentService.getDepartments().subscribe((res) => {\n            this.dataSource = new DataSource(res.content.data);\n        });\n    }\n\n    updateItem(data): void {\n        this.add = false;\n        const j = {\n            label: data.label,\n            number: data.number\n        };\n        this.dep_id = data.id;\n        this.departmentForm.setValue(j);\n    }\n\n    addDepartment(form, f): void {\n        this.isLoading = true;\n        form['company_id'] = this.authService.currentUser.company_id;\n        if (this.add) {\n            this.departmentService.addDepartment(form).subscribe((res) => {\n                console.log(res);\n                this.isLoading = false;\n                f.resetForm();\n                this.getDepartments();\n                document.getElementById('close').click();\n                this.utilService.showAddedSuccessfullyToast();\n            }, (err) => {\n                this.isLoading = false;\n                console.log(err);\n                this.utilService.showConnectionErrorToast();\n            });\n        } else {\n            form['id'] = this.dep_id;\n            this.departmentService.updateDepartment(form).subscribe((res) => {\n                console.log(res);\n                this.isLoading = false;\n                f.resetForm();\n                this.getDepartments();\n                document.getElementById('close').click();\n                this.utilService.showAddedSuccessfullyToast();\n            }, (err) => {\n                this.isLoading = false;\n                console.log(err);\n                this.utilService.showConnectionErrorToast();\n            });\n        }\n    }\n}\n","<div class=\"row header-row\">\n    <div class=\"col-9 row\"></div>\n    <div class=\"col-3 float-end\">\n        <dx-button *ngIf=\"authService.currentUser.type === 'admin'\"\n                   data-toggle=\"modal\" data-target=\"#side-modal-r\"\n                   class=\"add-btn\"\n                   icon=\"add\"\n                   stylingMode=\"text\"\n                   text=\" Add Department\"\n                   (onClick)=\"resetForm()\"\n                   type=\"normal\">\n        </dx-button>\n    </div>\n</div>\n<dx-data-grid class=\"datagrid\" [dataSource]=\"dataSource\"\n              [showBorders]=\"true\"\n              [showRowLines]=\"true\">\n    <dxo-remote-operations\n            [groupPaging]=\"true\">\n    </dxo-remote-operations>\n    <dxo-pager\n            [showPageSizeSelector]=\"true\"\n            [allowedPageSizes]=\"[5, 10, 25, 50, 100]\"\n    ></dxo-pager>\n    <dxo-sorting mode=\"multiple\"></dxo-sorting>\n    <dxo-filter-row></dxo-filter-row>\n    <dxo-header-filter></dxo-header-filter>\n    <dxi-column dataField=\"label\" caption=\"Label\" alignment=\"center\"\n                [allowSorting]=\"true\"></dxi-column>\n    <dxi-column dataField=\"number\" caption=\"Number\" alignment=\"center\"\n                [allowSorting]=\"true\"></dxi-column>\n    <dxi-column *ngIf=\"authService.currentUser.type === 'super_admin'\" dataField=\"company.companyName\"\n                caption=\"Company Name\" alignment=\"center\"\n                [allowSorting]=\"true\"></dxi-column>\n    <dxi-column [width]=\"100\" dataField=\"actions\" caption=\"Actions\" alignment=\"center\" cellTemplate=\"actionTemplate\"\n                [allowSorting]=\"true\"></dxi-column>\n    <div *dxTemplate=\"let r of 'actionTemplate'\">\n        <dx-button class=\"remove-btn\" icon=\"minus\" (onClick)=\"deleteItem(r.data)\">\n        </dx-button>\n        <dx-button class=\"update-btn\" icon=\"edit\" (onClick)=\"updateItem(r.data)\" data-toggle=\"modal\"\n                   data-target=\"#side-modal-r\">\n        </dx-button>\n    </div>\n</dx-data-grid>\n\n\n<div class=\"modal slide-in-right modal-right fade \" id=\"side-modal-r\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"side-modal-wrapper\">\n                <div class=\"vertical-align\">\n                    <div class=\"table-cell\">\n                        <div class=\"pdd-horizon-15\">\n                            <h4>{{add ? 'Add' : 'Update'}}Department</h4>\n                            <p class=\"mrg-btm-15 font-size-13\">Enter this details to {{add ? 'Add' : 'Update'}}\n                                department</p>\n                            <form [formGroup]=\"departmentForm\" #f=\"ngForm\"\n                                  (ngSubmit)=\"departmentForm.valid && addDepartment(departmentForm.value, f)\">\n                                <div class=\"form-group\">\n                                    <input formControlName=\"label\" type=\"text\" class=\"form-control\" placeholder=\"Name\">\n                                </div>\n                                <div class=\"form-group\">\n                                    <input disabled formControlName=\"number\" type=\"tel\" class=\"form-control\"\n                                           placeholder=\"Call Number\">\n                                </div>\n                                <button type=\"submit\" class=\"btn btn-info btn-sm\">{{add ? 'Add' : 'Update'}}</button>\n                                <a id=\"close\" style=\"visibility: hidden\" href=\"\" data-dismiss=\"modal\"\n                                   class=\"btn btn-info\">Close!</a>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<app-loader *ngIf=\"isLoading\"></app-loader>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DepartmentsRoutingModule } from './departments-routing.module';\nimport {DepartmentsComponent} from './departments.component';\nimport {SharedModule} from '../../shared/shared.module';\n\n\n@NgModule({\n  declarations: [DepartmentsComponent],\n  imports: [\n    CommonModule,\n    DepartmentsRoutingModule,\n    SharedModule\n  ]\n})\nexport class DepartmentsModule { }\n"],"sourceRoot":"webpack:///"}