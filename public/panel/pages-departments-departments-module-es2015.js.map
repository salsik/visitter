{"version":3,"sources":["./src/app/pages/departments/departments-routing.module.ts","./src/app/pages/departments/departments.component.ts","./src/app/pages/departments/departments.component.html","./src/app/pages/departments/departments.module.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuC;AACc;AACQ;;;AAG7D,MAAM,MAAM,GAAW,CAAC;QACpB,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2EAAoB;QAC/B,IAAI,EAAE;YACF,KAAK,EAAE,YAAY;SACtB;KACJ,CAAC,CAAC;AAMI,MAAM,wBAAwB;;uGAAxB,wBAAwB;0KAAxB,wBAAwB,kBAHxB,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC9B,4DAAY;mIAEb,wBAAwB,uFAFvB,4DAAY;6FAEb,wBAAwB;cAJpC,sDAAQ;eAAC;gBACN,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;aAC1B;;;;;;;;;;;;;;AChBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACL;AACwB;AACnC;;;;;;;;;;ICAlC,gFAQY;IAFD,8UAAuB;IAElC,4DAAY;;;IAsBhB,4EAE+C;;IAAnC,8EAAqB;;;;IAGjC,sEACI;IAAA,gFACY;IAD+B,iXAA8B;IACzE,4DAAY;IACZ,gFAEY;IAF8B,iXAA8B;IAExE,4DAAY;IAChB,4DAAM;;;IAqCV,wEAA2C;;;ADvEpC,MAAM,oBAAqB,SAAQ,mFAAa;IAOnD,YAAY,QAAkB;QAC1B,KAAK,CAAC,QAAQ,CAAC,CAAC;QALpB,cAAS,GAAG,KAAK,CAAC;QAClB,QAAG,GAAG,IAAI,CAAC;QACX,WAAM,GAAG,EAAE,CAAC;QAIR,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAChC,KAAK,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YACtD,MAAM,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YACvD,gBAAgB,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;SACpE,CAAC,CAAC;IACP,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,cAAc,EAAE,CAAC;IAC1B,CAAC;IAED,UAAU,CAAC,IAAI;QACX,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YAC/D,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QAC3B,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;YACP,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,WAAW,CAAC,wBAAwB,EAAE,CAAC;QAChD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,SAAS;QACL,MAAM,CAAC,GAAG;YACN,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,EAAE;YACV,gBAAgB,EAAE,EAAE;SACvB,CAAC;QACF,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAChC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;IACpB,CAAC;IAED,cAAc;QACV,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACtD,IAAI,CAAC,UAAU,GAAG,IAAI,kEAAU,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,UAAU,CAAC,IAAI;QACX,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC;QACjB,MAAM,CAAC,GAAG;YACN,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;SAC1C,CAAC;QACF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC;QACtB,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IACpC,CAAC;IAED,aAAa,CAAC,IAAI,EAAE,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,UAAU,CAAC;QAC7D,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;gBACzD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,CAAC,CAAC,SAAS,EAAE,CAAC;gBACd,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;gBACzC,IAAI,CAAC,WAAW,CAAC,0BAA0B,EAAE,CAAC;YAClD,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;gBACP,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,WAAW,CAAC,wBAAwB,EAAE,CAAC;YAChD,CAAC,CAAC,CAAC;SACN;aAAM;YACH,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;YACzB,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;gBAC5D,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,CAAC,CAAC,SAAS,EAAE,CAAC;gBACd,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;gBACzC,IAAI,CAAC,WAAW,CAAC,0BAA0B,EAAE,CAAC;YAClD,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;gBACP,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,WAAW,CAAC,wBAAwB,EAAE,CAAC;YAChD,CAAC,CAAC,CAAC;SACN;IACL,CAAC;;wFA5FQ,oBAAoB;oGAApB,oBAAoB;;QCVjC,yEACI;QAAA,oEAA6B;QAC7B,yEACI;QAAA,4HAQA;QACJ,4DAAM;QACV,4DAAM;QACN,kFAGI;QAAA,sFAEwB;QACxB,0EAGa;QACb,4EAA2C;QAC3C,4EAAiC;QACjC,+EAAuC;QACvC,4EAC+C;QAC/C,4EAC+C;QAC/C,6EAC+C;QAC/C,iIAEkC;QAClC,6EAC+C;QAC/C,mHACI;QAMR,4DAAe;QAGf,2EACI;QAAA,2EACI;QAAA,2EACI;QAAA,2EACI;QAAA,2EACI;QAAA,2EACI;QAAA,2EACI;QAAA,sEAAI;QAAA,wDAAoC;QAAA,4DAAK;QAC7C,yEAAmC;QAAA,wDAA2D;QAAA,4DAAI;QAClG,gFAEI;QADE,kUAAoC,iDAAsC,IAAC;QAC7E,2EACI;QAAA,wEACJ;QAAA,4DAAM;QACN,2EACI;QAAA,wEAEJ;QAAA,4DAAM;QACN,2EACI;QAAA,wEAEJ;QAAA,4DAAM;QACN,8EAAkD;QAAA,wDAA0B;QAAA,4DAAS;QACrF,yEACwB;QAAA,kEAAM;QAAA,4DAAI;QACtC,4DAAO;QACX,4DAAM;QACV,4DAAM;QACV,4DAAM;QACV,4DAAM;QACV,4DAAM;QACV,4DAAM;QACV,4DAAM;QACN,iIAA8B;;QA9EX,0DAAgD;QAAhD,8GAAgD;QAWpC,0DAAyB;QAAzB,sFAAyB;QAI5C,0DAAoB;QAApB,6EAAoB;QAGpB,0DAA6B;QAA7B,sFAA6B;QAOzB,0DAAqB;QAArB,8EAAqB;QAErB,0DAAqB;QAArB,8EAAqB;QAErB,0DAAqB;QAArB,8EAAqB;QACrB,0DAAsD;QAAtD,oHAAsD;QAGtD,0DAAa;QAAb,sEAAa;QAEpB,0DAAuC;QAAvC,0FAAuC;QAiBhB,0DAAoC;QAApC,8GAAoC;QACL,0DAA2D;QAA3D,qIAA2D;QACxF,0DAA4B;QAA5B,yFAA4B;QAaoB,0DAA0B;QAA1B,2FAA0B;QAWhG,0DAAiB;QAAjB,+EAAiB;;6FDvEhB,oBAAoB;cALhC,uDAAS;eAAC;gBACP,QAAQ,EAAE,iBAAiB;gBAC3B,WAAW,EAAE,8BAA8B;gBAC3C,SAAS,EAAE,CAAC,8BAA8B,CAAC;aAC9C;;;;;;;;;;;;;;AETD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AAEyB;AACX;AACL;;AAWjD,MAAM,iBAAiB;;gGAAjB,iBAAiB;4JAAjB,iBAAiB,kBANnB;YACP,4DAAY;YACZ,oFAAwB;YACxB,kEAAY;SACb;mIAEU,iBAAiB,mBAPb,2EAAoB,aAEjC,4DAAY;QACZ,oFAAwB;QACxB,kEAAY;6FAGH,iBAAiB;cAR7B,sDAAQ;eAAC;gBACR,YAAY,EAAE,CAAC,2EAAoB,CAAC;gBACpC,OAAO,EAAE;oBACP,4DAAY;oBACZ,oFAAwB;oBACxB,kEAAY;iBACb;aACF","file":"pages-departments-departments-module-es2015.js","sourcesContent":["import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {DepartmentsComponent} from './departments.component';\r\n\r\n\r\nconst routes: Routes = [{\r\n    path: '',\r\n    component: DepartmentsComponent,\r\n    data: {\r\n        title: 'Department'\r\n    }\r\n}];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class DepartmentsRoutingModule {\r\n}\r\n","import {Component, Injector, OnInit} from '@angular/core';\r\nimport DataSource from 'devextreme/data/data_source';\r\nimport {BaseComponent} from '../../../@calls/components/base/base.component';\r\nimport {Validators} from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-departments',\r\n    templateUrl: './departments.component.html',\r\n    styleUrls: ['./departments.component.scss']\r\n})\r\nexport class DepartmentsComponent extends BaseComponent implements OnInit {\r\n    dataSource: any;\r\n    departmentForm: any;\r\n    isLoading = false;\r\n    add = true;\r\n    dep_id = '';\r\n\r\n    constructor(injector: Injector) {\r\n        super(injector);\r\n        this.departmentForm = this.fb.group({\r\n            label: ['', Validators.compose([Validators.required])],\r\n            number: ['', Validators.compose([Validators.required])],\r\n            capability_token: ['', Validators.compose([Validators.required])]\r\n        });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.getDepartments();\r\n    }\r\n\r\n    deleteItem(item): void {\r\n        console.log(item);\r\n        this.isLoading = true;\r\n        this.departmentService.removeDepartment(item.id).subscribe((res) => {\r\n            console.log(res);\r\n            this.getDepartments();\r\n            this.isLoading = false;\r\n        }, (err) => {\r\n            console.log(err);\r\n            this.isLoading = false;\r\n            this.utilService.showConnectionErrorToast();\r\n        });\r\n    }\r\n\r\n    resetForm() {\r\n        const j = {\r\n            label: '',\r\n            number: '',\r\n            capability_token: ''\r\n        };\r\n        this.departmentForm.setValue(j);\r\n        this.add = true;\r\n    }\r\n\r\n    getDepartments(): void {\r\n        this.departmentService.getDepartments().subscribe((res) => {\r\n            this.dataSource = new DataSource(res.content.data);\r\n        });\r\n    }\r\n\r\n    updateItem(data): void {\r\n        this.add = false;\r\n        const j = {\r\n            label: data.label,\r\n            number: data.number,\r\n            capability_token: data.capability_token\r\n        };\r\n        this.dep_id = data.id;\r\n        this.departmentForm.setValue(j);\r\n    }\r\n\r\n    addDepartment(form, f): void {\r\n        this.isLoading = true;\r\n        form['company_id'] = this.authService.currentUser.company_id;\r\n        if (this.add) {\r\n            this.departmentService.addDepartment(form).subscribe((res) => {\r\n                console.log(res);\r\n                this.isLoading = false;\r\n                f.resetForm();\r\n                this.getDepartments();\r\n                document.getElementById('close').click();\r\n                this.utilService.showAddedSuccessfullyToast();\r\n            }, (err) => {\r\n                this.isLoading = false;\r\n                console.log(err);\r\n                this.utilService.showConnectionErrorToast();\r\n            });\r\n        } else {\r\n            form['id'] = this.dep_id;\r\n            this.departmentService.updateDepartment(form).subscribe((res) => {\r\n                console.log(res);\r\n                this.isLoading = false;\r\n                f.resetForm();\r\n                this.getDepartments();\r\n                document.getElementById('close').click();\r\n                this.utilService.showAddedSuccessfullyToast();\r\n            }, (err) => {\r\n                this.isLoading = false;\r\n                console.log(err);\r\n                this.utilService.showConnectionErrorToast();\r\n            });\r\n        }\r\n    }\r\n}\r\n","<div class=\"row header-row\">\r\n    <div class=\"col-9 row\"></div>\r\n    <div class=\"col-3 float-end\">\r\n        <dx-button *ngIf=\"authService.currentUser.type === 'admin'\"\r\n                   data-toggle=\"modal\" data-target=\"#side-modal-r\"\r\n                   class=\"add-btn\"\r\n                   icon=\"add\"\r\n                   stylingMode=\"text\"\r\n                   text=\" Add Department\"\r\n                   (onClick)=\"resetForm()\"\r\n                   type=\"normal\">\r\n        </dx-button>\r\n    </div>\r\n</div>\r\n<dx-data-grid class=\"datagrid\" [dataSource]=\"dataSource\"\r\n              [showBorders]=\"true\"\r\n              [showRowLines]=\"true\">\r\n    <dxo-remote-operations\r\n            [groupPaging]=\"true\">\r\n    </dxo-remote-operations>\r\n    <dxo-pager\r\n            [showPageSizeSelector]=\"true\"\r\n            [allowedPageSizes]=\"[5, 10, 25, 50, 100]\"\r\n    ></dxo-pager>\r\n    <dxo-sorting mode=\"multiple\"></dxo-sorting>\r\n    <dxo-filter-row></dxo-filter-row>\r\n    <dxo-header-filter></dxo-header-filter>\r\n    <dxi-column dataField=\"label\" caption=\"Label\" alignment=\"center\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <dxi-column dataField=\"number\" caption=\"Number\" alignment=\"center\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <dxi-column dataField=\"capability_token\" caption=\"Capability token Url\" alignment=\"center\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <dxi-column *ngIf=\"authService.currentUser.type === 'super_admin'\" dataField=\"company.companyName\"\r\n                caption=\"Company Name\" alignment=\"center\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <dxi-column [width]=\"100\" dataField=\"actions\" caption=\"Actions\" alignment=\"center\" cellTemplate=\"actionTemplate\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <div *dxTemplate=\"let r of 'actionTemplate'\">\r\n        <dx-button class=\"remove-btn\" icon=\"minus\" (onClick)=\"deleteItem(r.data)\">\r\n        </dx-button>\r\n        <dx-button class=\"update-btn\" icon=\"edit\" (onClick)=\"updateItem(r.data)\" data-toggle=\"modal\"\r\n                   data-target=\"#side-modal-r\">\r\n        </dx-button>\r\n    </div>\r\n</dx-data-grid>\r\n\r\n\r\n<div class=\"modal slide-in-right modal-right fade \" id=\"side-modal-r\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"side-modal-wrapper\">\r\n                <div class=\"vertical-align\">\r\n                    <div class=\"table-cell\">\r\n                        <div class=\"pdd-horizon-15\">\r\n                            <h4>{{add ? 'Add' : 'Update'}}Department</h4>\r\n                            <p class=\"mrg-btm-15 font-size-13\">Enter this details to {{add ? 'Add' : 'Update'}} department</p>\r\n                            <form [formGroup]=\"departmentForm\" #f=\"ngForm\"\r\n                                  (ngSubmit)=\"departmentForm.valid && addDepartment(departmentForm.value, f)\">\r\n                                <div class=\"form-group\">\r\n                                    <input formControlName=\"label\" type=\"text\" class=\"form-control\" placeholder=\"Name\">\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <input formControlName=\"number\" type=\"tel\" class=\"form-control\"\r\n                                           placeholder=\"Number\">\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <input formControlName=\"capability_token\" type=\"text\" class=\"form-control\"\r\n                                           placeholder=\"Capability token Url\">\r\n                                </div>\r\n                                <button type=\"submit\" class=\"btn btn-info btn-sm\">{{add ? 'Add' : 'Update'}}</button>\r\n                                <a id=\"close\" style=\"visibility: hidden\" href=\"\" data-dismiss=\"modal\"\r\n                                   class=\"btn btn-info\">Close!</a>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<app-loader *ngIf=\"isLoading\"></app-loader>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { DepartmentsRoutingModule } from './departments-routing.module';\r\nimport {DepartmentsComponent} from './departments.component';\r\nimport {SharedModule} from '../../shared/shared.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [DepartmentsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    DepartmentsRoutingModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class DepartmentsModule { }\r\n"],"sourceRoot":"webpack:///"}