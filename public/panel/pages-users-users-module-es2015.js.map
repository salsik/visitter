{"version":3,"sources":["./src/app/pages/users/users-routing.module.ts","./src/app/pages/users/users.component.ts","./src/app/pages/users/users.component.html","./src/app/pages/users/users.module.ts"],"names":[],"mappings":"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","file":"pages-users-users-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {CompaniesComponent} from '../companies/companies.component';\r\nimport {UsersComponent} from './users.component';\r\n\r\n\r\nconst routes: Routes = [{\r\n  path: '',\r\n  component: UsersComponent,\r\n  data: {\r\n    title: 'Users'\r\n  }\r\n}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UsersRoutingModule { }\r\n","import {AfterViewInit, Component, Injector, OnInit} from '@angular/core';\r\nimport DataSource from 'devextreme/data/data_source';\r\nimport {BaseComponent} from '../../../@calls/components/base/base.component';\r\nimport {Validators} from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-users',\r\n    templateUrl: './users.component.html',\r\n    styleUrls: ['./users.component.scss']\r\n})\r\nexport class UsersComponent extends BaseComponent implements OnInit, AfterViewInit {\r\n    isLoading = false;\r\n    dataSource: any;\r\n    userForm: any;\r\n    departments: any;\r\n    departmentSelected = false;\r\n    add = true;\r\n    userId = '';\r\n    type = '';\r\n    errors = [];\r\n\r\n    constructor(injector: Injector) {\r\n        super(injector);\r\n        this.userForm = this.fb.group({\r\n            username: ['', Validators.compose([Validators.required])],\r\n            login_id: ['', Validators.compose([Validators.required])],\r\n            email: ['', Validators.compose([Validators.required])],\r\n            password: ['', Validators.compose([Validators.required])],\r\n            type: ['', Validators.compose([Validators.required])],\r\n            dep_id: ['']\r\n        });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.getUsers();\r\n        this.getDepartments();\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.changeSelected();\r\n    }\r\n\r\n    async deleteItem(item) {\r\n        const result = await this.utilService.confirmationDialog(this.translateService.instant('app.warning'),\r\n            this.translateService.instant('app.removeCaution'));\r\n        result.subscribe((res) => {\r\n            if (res) {\r\n                this.isLoading = true;\r\n                this.userService.removeUser(item.user_id).subscribe((res) => {\r\n                    this.getUsers();\r\n                    this.utilService.showDeletedSuccessfullyToast();\r\n                    this.isLoading = false;\r\n                }, (err) => {\r\n                    console.log(err);\r\n                    this.isLoading = false;\r\n                    this.utilService.showConnectionErrorToast();\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    getUsers(): void {\r\n        this.userService.getUsers().subscribe((res) => {\r\n            this.dataSource = new DataSource(res.content.data);\r\n        });\r\n    }\r\n\r\n    resetForm() {\r\n        const j = {\r\n            login_id: '',\r\n            username: '',\r\n            email: '',\r\n            password: '',\r\n            type: '',\r\n            dep_id: '',\r\n        };\r\n        this.userForm.setValue(j);\r\n        this.add = true;\r\n        this.departmentSelected = false;\r\n        setTimeout(() => {\r\n            this.changeSelected();\r\n        }, 1000);\r\n    }\r\n\r\n    updateItem(data): void {\r\n        this.add = false;\r\n        const j = {\r\n            username: data.username,\r\n            login_id: data.login_id,\r\n            email: data.email,\r\n            password: data.password,\r\n            type: data.type,\r\n            dep_id: data['dep_id'] ? data['dep_id'] : ''\r\n        };\r\n        this.departmentSelected = !!data['dep_id'];\r\n        this.userId = data.id;\r\n        this.type = data.type;\r\n        // this.dep_id = data.id;\r\n        this.userForm.setValue(j);\r\n    }\r\n\r\n    changeSelected() {\r\n        document.getElementById('my-type').addEventListener('change', (evt: any) => {\r\n            this.departmentSelected = +evt.target.selectedIndex === 0;\r\n        });\r\n    }\r\n\r\n    addUser(form, f): void {\r\n        this.isLoading = true;\r\n        this.errors = [];\r\n        form['company_id'] = this.authService.currentUser.company_id;\r\n        form['name'] = form.first_name + ' ' + form.last_name;\r\n        if (this.add) {\r\n            this.authService.register(form).subscribe((res) => {\r\n                this.isLoading = false;\r\n                if (res.result === 'success') {\r\n                    f.resetForm();\r\n                    this.getUsers();\r\n                    document.getElementById('close').click();\r\n                    this.utilService.showAddedSuccessfullyToast();\r\n                } else {\r\n                    const error = res.error_description;\r\n                    let key;\r\n                    for (key in error) {\r\n                        if (typeof error[key] === 'string') {\r\n                            if (error[key] !== 'error') {\r\n                                this.errors.push(error[key]);\r\n                            }\r\n                        } else if (typeof error[key] === 'object') {\r\n                            if (error[0] === 'error') {\r\n                                this.errors.push('LoginID already exist !');\r\n                            } else {\r\n                                this.errors.push(error[key][0]);\r\n                            }\r\n                        } else {\r\n                            this.errors.push('LoginID already exist !');\r\n                        }\r\n                    }\r\n                }\r\n            }, (err) => {\r\n                this.isLoading = false;\r\n                console.log(err);\r\n                this.utilService.showConnectionErrorToast();\r\n            });\r\n        } else {\r\n            form['id'] = this.userId;\r\n            form['location'] = this.type;\r\n            this.userService.updateUser(form).subscribe((res) => {\r\n                this.isLoading = false;\r\n                f.resetForm();\r\n                this.getUsers();\r\n                document.getElementById('close').click();\r\n                this.utilService.showAddedSuccessfullyToast();\r\n            }, (err) => {\r\n                this.isLoading = false;\r\n                console.log(err);\r\n                this.utilService.showConnectionErrorToast();\r\n            });\r\n        }\r\n    }\r\n\r\n    getDepartments(): void {\r\n        this.departmentService.getDepartments().subscribe((res) => {\r\n            this.isLoading = false;\r\n            this.departments = res.content.data;\r\n        }, (err) => {\r\n            this.isLoading = false;\r\n            console.log(err);\r\n            this.utilService.showConnectionErrorToast();\r\n        });\r\n    }\r\n\r\n    getName(type): string {\r\n        return `users.${type}`;\r\n    }\r\n}\r\n","<div class=\"row header-row\">\r\n    <div class=\"col-9 row\"></div>\r\n    <div class=\"col-3 float-end\">\r\n        <dx-button\r\n                data-toggle=\"modal\" data-target=\"#side-modal-r\"\r\n                class=\"add-btn\"\r\n                icon=\"add\"\r\n                stylingMode=\"text\"\r\n                text=\" {{'users.addNewUser' | translate}}\"\r\n                (onClick)=\"resetForm()\"\r\n                type=\"normal\">\r\n        </dx-button>\r\n    </div>\r\n</div>\r\n<dx-data-grid class=\"datagrid\" [dataSource]=\"dataSource\"\r\n              [showBorders]=\"true\"\r\n              [showRowLines]=\"true\">\r\n    <dxo-remote-operations\r\n            [groupPaging]=\"true\">\r\n    </dxo-remote-operations>\r\n    <dxo-pager\r\n            [showPageSizeSelector]=\"true\"\r\n            [allowedPageSizes]=\"[5, 10, 25, 50, 100]\"\r\n    ></dxo-pager>\r\n    <dxo-sorting mode=\"multiple\"></dxo-sorting>\r\n    <dxo-filter-row></dxo-filter-row>\r\n    <dxo-header-filter></dxo-header-filter>\r\n    <dxi-column dataField=\"username\" [caption]=\"'users.username' | translate\" alignment=\"center\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <dxi-column dataField=\"login_id\" [caption]=\"'users.loginId' | translate\" alignment=\"center\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <dxi-column dataField=\"type\" [caption]=\"'users.userType' | translate\" alignment=\"center\" cellTemplate=\"typeTemplate\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <dxi-column dataField=\"actions\" [caption]=\"'users.action' | translate\" alignment=\"center\"\r\n                cellTemplate=\"actionTemplate\"\r\n                [allowSorting]=\"true\" [width]=\"100\"></dxi-column>\r\n    <div *dxTemplate=\"let r of 'typeTemplate'\" class=\"cellTemplate\">\r\n        <p [ngClass]=\"r.data.type\">{{getName(r.data.type) | translate}}</p>\r\n    </div>\r\n    <div *dxTemplate=\"let r of 'actionTemplate'\">\r\n        <dx-button class=\"update-btn\" icon=\"edit\" (onClick)=\"updateItem(r.data)\" data-toggle=\"modal\"\r\n                   data-target=\"#side-modal-r\">\r\n        </dx-button>\r\n        <dx-button class=\"remove-btn\" icon=\"trash\" (onClick)=\"deleteItem(r.data)\">\r\n        </dx-button>\r\n    </div>\r\n</dx-data-grid>\r\n\r\n\r\n<div class=\"modal slide-in-right modal-right fade \" id=\"side-modal-r\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"side-modal-wrapper\">\r\n                <div class=\"vertical-align\">\r\n                    <div class=\"table-cell\">\r\n                        <div class=\"pdd-horizon-15\">\r\n                            <h4>{{(add ? 'users.createUser' : 'users.updateUser') | translate}}</h4>\r\n                            <p class=\"mrg-btm-15 font-size-13\">{{(add ? 'users.createMsg' : 'users.updateMsg') | translate}}</p>\r\n                            <form [formGroup]=\"userForm\" #f=\"ngForm\"\r\n                                  (ngSubmit)=\"userForm.valid && addUser(userForm.value, f)\">\r\n                                <div class=\"form-group\">\r\n                                    <input formControlName=\"username\" type=\"text\" class=\"form-control\"\r\n                                           [placeholder]=\"'users.username' | translate\">\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <input formControlName=\"login_id\" type=\"text\" class=\"form-control\"\r\n                                           [placeholder]=\"'users.loginId' | translate\">\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <input formControlName=\"email\" type=\"text\" class=\"form-control\"\r\n                                           [placeholder]=\"'users.email' | translate\">\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <input formControlName=\"password\" type=\"password\" class=\"form-control\"\r\n                                           [placeholder]=\"'users.password' | translate\">\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <p class=\"mrg-btm-15 font-size-13\">{{'users.chooseType' | translate}}</p>\r\n                                    <select *ngIf=\"!add\" [attr.disabled]=\"!add\" id='my-type' formControlName=\"type\"\r\n                                            class=\"form-control\">\r\n                                        <option value=\"reception\">{{'users.reception' | translate}}</option>\r\n                                        <option value=\"customer\">{{'users.customer' | translate}}</option>\r\n                                    </select>\r\n                                    <select *ngIf=\"add\" id='my-type' formControlName=\"type\" class=\"form-control\">\r\n                                        <option value=\"reception\">{{'users.reception' | translate}}</option>\r\n                                        <option value=\"customer\">{{'users.customer' | translate}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div *ngIf=\"departmentSelected\" class=\"form-group\">\r\n                                    <p class=\"mrg-btm-15 font-size-13\">{{'users.chooseDepartment' | translate}}</p>\r\n                                    <select formControlName=\"dep_id\" class=\"form-control\">\r\n                                        <option *ngFor=\"let item of departments\"\r\n                                                [value]=\"item.id\">{{item.label}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <button type=\"submit\" class=\"btn btn-info btn-md\">{{add ? 'Add' : 'Update'}}</button>\r\n                                <a id=\"close\" style=\"visibility: hidden\" href=\"\" data-dismiss=\"modal\"\r\n                                   class=\"btn btn-info\">Close!</a>\r\n                            </form>\r\n                            <div class=\"errors\" *ngIf=\"errors.length\">\r\n                                <h2>Errors:</h2>\r\n                                <p class=\"error\" *ngFor=\"let item of errors\">{{item}}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<app-loader *ngIf=\"isLoading\"></app-loader>\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {UsersRoutingModule} from './users-routing.module';\r\nimport {SharedModule} from '../../shared/shared.module';\r\nimport {UsersComponent} from './users.component';\r\n\r\n\r\n@NgModule({\r\n    declarations: [UsersComponent],\r\n    imports: [\r\n        CommonModule,\r\n        SharedModule,\r\n        UsersRoutingModule\r\n    ]\r\n})\r\nexport class UsersModule {\r\n}\r\n"],"sourceRoot":"webpack:///"}