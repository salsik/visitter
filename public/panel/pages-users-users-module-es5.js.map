{"version":3,"sources":["webpack:///src/app/pages/users/users-routing.module.ts","webpack:///src/app/pages/users/users.component.html","webpack:///src/app/pages/users/users.component.ts","webpack:///src/app/pages/users/users.module.ts"],"names":["routes","path","component","data","title","UsersRoutingModule","forChild","imports","exports","UsersComponent","injector","isLoading","departmentSelected","add","userId","type","errors","userForm","fb","group","username","compose","required","login_id","email","password","dep_id","getUsers","getDepartments","changeSelected","item","utilService","confirmationDialog","translateService","instant","result","subscribe","res","userService","removeUser","user_id","showDeletedSuccessfullyToast","err","console","log","showConnectionErrorToast","dataSource","content","j","setValue","setTimeout","id","document","getElementById","addEventListener","evt","target","selectedIndex","form","f","authService","currentUser","company_id","first_name","last_name","register","resetForm","click","showAddedSuccessfullyToast","error","error_description","key","push","updateUser","departmentService","departments","addUser","selector","templateUrl","styleUrls","UsersModule","declarations"],"mappings":"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","file":"pages-users-users-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {CompaniesComponent} from '../companies/companies.component';\r\nimport {UsersComponent} from './users.component';\r\n\r\n\r\nconst routes: Routes = [{\r\n  path: '',\r\n  component: UsersComponent,\r\n  data: {\r\n    title: 'Users'\r\n  }\r\n}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UsersRoutingModule { }\r\n","<div class=\"row header-row\">\r\n    <div class=\"col-9 row\"></div>\r\n    <div class=\"col-3 float-end\">\r\n        <dx-button\r\n                data-toggle=\"modal\" data-target=\"#side-modal-r\"\r\n                class=\"add-btn\"\r\n                icon=\"add\"\r\n                stylingMode=\"text\"\r\n                text=\" {{'users.addNewUser' | translate}}\"\r\n                (onClick)=\"resetForm()\"\r\n                type=\"normal\">\r\n        </dx-button>\r\n    </div>\r\n</div>\r\n<dx-data-grid class=\"datagrid\" [dataSource]=\"dataSource\"\r\n              [showBorders]=\"true\"\r\n              [showRowLines]=\"true\">\r\n    <dxo-remote-operations\r\n            [groupPaging]=\"true\">\r\n    </dxo-remote-operations>\r\n    <dxo-pager\r\n            [showPageSizeSelector]=\"true\"\r\n            [allowedPageSizes]=\"[5, 10, 25, 50, 100]\"\r\n    ></dxo-pager>\r\n    <dxo-sorting mode=\"multiple\"></dxo-sorting>\r\n    <dxo-filter-row></dxo-filter-row>\r\n    <dxo-header-filter></dxo-header-filter>\r\n    <dxi-column dataField=\"username\" [caption]=\"'users.username' | translate\" alignment=\"center\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <dxi-column dataField=\"login_id\" [caption]=\"'users.loginId' | translate\" alignment=\"center\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <dxi-column dataField=\"type\" [caption]=\"'users.userType' | translate\" alignment=\"center\" cellTemplate=\"typeTemplate\"\r\n                [allowSorting]=\"true\"></dxi-column>\r\n    <dxi-column dataField=\"actions\" [caption]=\"'users.action' | translate\" alignment=\"center\"\r\n                cellTemplate=\"actionTemplate\"\r\n                [allowSorting]=\"true\" [width]=\"100\"></dxi-column>\r\n    <div *dxTemplate=\"let r of 'typeTemplate'\" class=\"cellTemplate\">\r\n        <p [ngClass]=\"r.data.type\">{{getName(r.data.type) | translate}}</p>\r\n    </div>\r\n    <div *dxTemplate=\"let r of 'actionTemplate'\">\r\n        <dx-button class=\"update-btn\" icon=\"edit\" (onClick)=\"updateItem(r.data)\" data-toggle=\"modal\"\r\n                   data-target=\"#side-modal-r\">\r\n        </dx-button>\r\n        <dx-button class=\"remove-btn\" icon=\"trash\" (onClick)=\"deleteItem(r.data)\">\r\n        </dx-button>\r\n    </div>\r\n</dx-data-grid>\r\n\r\n\r\n<div class=\"modal slide-in-right modal-right fade \" id=\"side-modal-r\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"side-modal-wrapper\">\r\n                <div class=\"vertical-align\">\r\n                    <div class=\"table-cell\">\r\n                        <div class=\"pdd-horizon-15\">\r\n                            <h4>{{(add ? 'users.createUser' : 'users.updateUser') | translate}}</h4>\r\n                            <p class=\"mrg-btm-15 font-size-13\">{{(add ? 'users.createMsg' : 'users.updateMsg') | translate}}</p>\r\n                            <form [formGroup]=\"userForm\" #f=\"ngForm\"\r\n                                  (ngSubmit)=\"userForm.valid && addUser(userForm.value, f)\">\r\n                                <div class=\"form-group\">\r\n                                    <input formControlName=\"username\" type=\"text\" class=\"form-control\"\r\n                                           [placeholder]=\"'users.username' | translate\">\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <input formControlName=\"login_id\" type=\"text\" class=\"form-control\"\r\n                                           [placeholder]=\"'users.loginId' | translate\">\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <input formControlName=\"email\" type=\"text\" class=\"form-control\"\r\n                                           [placeholder]=\"'users.email' | translate\">\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <input formControlName=\"password\" type=\"password\" class=\"form-control\"\r\n                                           [placeholder]=\"'users.password' | translate\">\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <p class=\"mrg-btm-15 font-size-13\">{{'users.chooseType' | translate}}</p>\r\n                                    <select *ngIf=\"!add\" [attr.disabled]=\"!add\" id='my-type' formControlName=\"type\"\r\n                                            class=\"form-control\">\r\n                                        <option value=\"reception\">{{'users.reception' | translate}}</option>\r\n                                        <option value=\"customer\">{{'users.customer' | translate}}</option>\r\n                                    </select>\r\n                                    <select *ngIf=\"add\" id='my-type' formControlName=\"type\" class=\"form-control\">\r\n                                        <option value=\"reception\">{{'users.reception' | translate}}</option>\r\n                                        <option value=\"customer\">{{'users.customer' | translate}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div *ngIf=\"departmentSelected\" class=\"form-group\">\r\n                                    <p class=\"mrg-btm-15 font-size-13\">{{'users.chooseDepartment' | translate}}</p>\r\n                                    <select formControlName=\"dep_id\" class=\"form-control\">\r\n                                        <option *ngFor=\"let item of departments\"\r\n                                                [value]=\"item.id\">{{item.label}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <button type=\"submit\" class=\"btn btn-info btn-md\">{{add ? 'Add' : 'Update'}}</button>\r\n                                <a id=\"close\" style=\"visibility: hidden\" href=\"\" data-dismiss=\"modal\"\r\n                                   class=\"btn btn-info\">Close!</a>\r\n                            </form>\r\n                            <div class=\"errors\" *ngIf=\"errors.length\">\r\n                                <h2>Errors:</h2>\r\n                                <p class=\"error\" *ngFor=\"let item of errors\">{{item}}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<app-loader *ngIf=\"isLoading\"></app-loader>\r\n","import {AfterViewInit, Component, Injector, OnInit} from '@angular/core';\r\nimport DataSource from 'devextreme/data/data_source';\r\nimport {BaseComponent} from '../../../@calls/components/base/base.component';\r\nimport {Validators} from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-users',\r\n    templateUrl: './users.component.html',\r\n    styleUrls: ['./users.component.scss']\r\n})\r\nexport class UsersComponent extends BaseComponent implements OnInit, AfterViewInit {\r\n    isLoading = false;\r\n    dataSource: any;\r\n    userForm: any;\r\n    departments: any;\r\n    departmentSelected = false;\r\n    add = true;\r\n    userId = '';\r\n    type = '';\r\n    errors = [];\r\n\r\n    constructor(injector: Injector) {\r\n        super(injector);\r\n        this.userForm = this.fb.group({\r\n            username: ['', Validators.compose([Validators.required])],\r\n            login_id: ['', Validators.compose([Validators.required])],\r\n            email: ['', Validators.compose([Validators.required])],\r\n            password: ['', Validators.compose([Validators.required])],\r\n            type: ['', Validators.compose([Validators.required])],\r\n            dep_id: ['']\r\n        });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.getUsers();\r\n        this.getDepartments();\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.changeSelected();\r\n    }\r\n\r\n    async deleteItem(item) {\r\n        const result = await this.utilService.confirmationDialog(this.translateService.instant('app.warning'),\r\n            this.translateService.instant('app.removeCaution'));\r\n        result.subscribe((res) => {\r\n            if (res) {\r\n                this.isLoading = true;\r\n                this.userService.removeUser(item.user_id).subscribe((res) => {\r\n                    this.getUsers();\r\n                    this.utilService.showDeletedSuccessfullyToast();\r\n                    this.isLoading = false;\r\n                }, (err) => {\r\n                    console.log(err);\r\n                    this.isLoading = false;\r\n                    this.utilService.showConnectionErrorToast();\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    getUsers(): void {\r\n        this.userService.getUsers().subscribe((res) => {\r\n            this.dataSource = new DataSource(res.content.data);\r\n        });\r\n    }\r\n\r\n    resetForm() {\r\n        const j = {\r\n            login_id: '',\r\n            username: '',\r\n            email: '',\r\n            password: '',\r\n            type: '',\r\n            dep_id: '',\r\n        };\r\n        this.userForm.setValue(j);\r\n        this.add = true;\r\n        this.departmentSelected = false;\r\n        setTimeout(() => {\r\n            this.changeSelected();\r\n        }, 1000);\r\n    }\r\n\r\n    updateItem(data): void {\r\n        this.add = false;\r\n        const j = {\r\n            username: data.username,\r\n            login_id: data.login_id,\r\n            email: data.email,\r\n            password: data.password,\r\n            type: data.type,\r\n            dep_id: data['dep_id'] ? data['dep_id'] : ''\r\n        };\r\n        this.departmentSelected = !!data['dep_id'];\r\n        this.userId = data.id;\r\n        this.type = data.type;\r\n        // this.dep_id = data.id;\r\n        this.userForm.setValue(j);\r\n    }\r\n\r\n    changeSelected() {\r\n        document.getElementById('my-type').addEventListener('change', (evt: any) => {\r\n            this.departmentSelected = +evt.target.selectedIndex === 0;\r\n        });\r\n    }\r\n\r\n    addUser(form, f): void {\r\n        this.isLoading = true;\r\n        this.errors = [];\r\n        form['company_id'] = this.authService.currentUser.company_id;\r\n        form['name'] = form.first_name + ' ' + form.last_name;\r\n        if (this.add) {\r\n            this.authService.register(form).subscribe((res) => {\r\n                this.isLoading = false;\r\n                if (res.result === 'success') {\r\n                    f.resetForm();\r\n                    this.getUsers();\r\n                    document.getElementById('close').click();\r\n                    this.utilService.showAddedSuccessfullyToast();\r\n                } else {\r\n                    const error = res.error_description;\r\n                    let key;\r\n                    for (key in error) {\r\n                        if (typeof error[key] === 'string') {\r\n                            if (error[key] !== 'error') {\r\n                                this.errors.push(error[key]);\r\n                            }\r\n                        } else if (typeof error[key] === 'object') {\r\n                            if (error[0] === 'error') {\r\n                                this.errors.push('LoginID already exist !');\r\n                            } else {\r\n                                this.errors.push(error[key][0]);\r\n                            }\r\n                        } else {\r\n                            this.errors.push('LoginID already exist !');\r\n                        }\r\n                    }\r\n                }\r\n            }, (err) => {\r\n                this.isLoading = false;\r\n                console.log(err);\r\n                this.utilService.showConnectionErrorToast();\r\n            });\r\n        } else {\r\n            form['id'] = this.userId;\r\n            form['location'] = this.type;\r\n            this.userService.updateUser(form).subscribe((res) => {\r\n                this.isLoading = false;\r\n                f.resetForm();\r\n                this.getUsers();\r\n                document.getElementById('close').click();\r\n                this.utilService.showAddedSuccessfullyToast();\r\n            }, (err) => {\r\n                this.isLoading = false;\r\n                console.log(err);\r\n                this.utilService.showConnectionErrorToast();\r\n            });\r\n        }\r\n    }\r\n\r\n    getDepartments(): void {\r\n        this.departmentService.getDepartments().subscribe((res) => {\r\n            this.isLoading = false;\r\n            this.departments = res.content.data;\r\n        }, (err) => {\r\n            this.isLoading = false;\r\n            console.log(err);\r\n            this.utilService.showConnectionErrorToast();\r\n        });\r\n    }\r\n\r\n    getName(type): string {\r\n        return `users.${type}`;\r\n    }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {UsersRoutingModule} from './users-routing.module';\r\nimport {SharedModule} from '../../shared/shared.module';\r\nimport {UsersComponent} from './users.component';\r\n\r\n\r\n@NgModule({\r\n    declarations: [UsersComponent],\r\n    imports: [\r\n        CommonModule,\r\n        SharedModule,\r\n        UsersRoutingModule\r\n    ]\r\n})\r\nexport class UsersModule {\r\n}\r\n"]}